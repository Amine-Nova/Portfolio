{"ast":null,"code":"import{useRef,useEffect,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClickSpark=_ref=>{let{sparkColor='#fff',sparkSize=10,sparkRadius=15,sparkCount=8,duration=400,easing='ease-out',extraScale=1.0,children}=_ref;const canvasRef=useRef(null);const sparksRef=useRef([]);const startTimeRef=useRef(null);useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const parent=canvas.parentElement;if(!parent)return;let resizeTimeout;const resizeCanvas=()=>{const{width,height}=parent.getBoundingClientRect();if(canvas.width!==width||canvas.height!==height){canvas.width=width;canvas.height=height;}};const handleResize=()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(resizeCanvas,100);};const ro=new ResizeObserver(handleResize);ro.observe(parent);resizeCanvas();return()=>{ro.disconnect();clearTimeout(resizeTimeout);};},[]);const easeFunc=useCallback(t=>{switch(easing){case'linear':return t;case'ease-in':return t*t;case'ease-in-out':return t<0.5?2*t*t:-1+(4-2*t)*t;default:return t*(2-t);}},[easing]);useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');let animationId;const draw=timestamp=>{if(!startTimeRef.current){startTimeRef.current=timestamp;}ctx.clearRect(0,0,canvas.width,canvas.height);sparksRef.current=sparksRef.current.filter(spark=>{const elapsed=timestamp-spark.startTime;if(elapsed>=duration){return false;}const progress=elapsed/duration;const eased=easeFunc(progress);const distance=eased*sparkRadius*extraScale;const lineLength=sparkSize*(1-eased);const x1=spark.x+distance*Math.cos(spark.angle);const y1=spark.y+distance*Math.sin(spark.angle);const x2=spark.x+(distance+lineLength)*Math.cos(spark.angle);const y2=spark.y+(distance+lineLength)*Math.sin(spark.angle);ctx.strokeStyle=sparkColor;ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();return true;});animationId=requestAnimationFrame(draw);};animationId=requestAnimationFrame(draw);return()=>{cancelAnimationFrame(animationId);};},[sparkColor,sparkSize,sparkRadius,sparkCount,duration,easeFunc,extraScale]);const handleClick=e=>{const canvas=canvasRef.current;if(!canvas)return;const rect=canvas.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;const now=performance.now();const newSparks=Array.from({length:sparkCount},(_,i)=>({x,y,angle:2*Math.PI*i/sparkCount,startTime:now}));sparksRef.current.push(...newSparks);};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full\",onClick:handleClick,children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"w-full h-full block absolute top-0 left-0 select-none pointer-events-none\"}),children]});};export default ClickSpark;","map":{"version":3,"names":["useRef","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","ClickSpark","_ref","sparkColor","sparkSize","sparkRadius","sparkCount","duration","easing","extraScale","children","canvasRef","sparksRef","startTimeRef","canvas","current","parent","parentElement","resizeTimeout","resizeCanvas","width","height","getBoundingClientRect","handleResize","clearTimeout","setTimeout","ro","ResizeObserver","observe","disconnect","easeFunc","t","ctx","getContext","animationId","draw","timestamp","clearRect","filter","spark","elapsed","startTime","progress","eased","distance","lineLength","x1","x","Math","cos","angle","y1","y","sin","x2","y2","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","handleClick","e","rect","clientX","left","clientY","top","now","performance","newSparks","Array","from","length","_","i","PI","push","className","onClick","ref"],"sources":["/Users/abenmous/Desktop/Mark1/portfolio/src/components/spark/spark.jsx"],"sourcesContent":["import { useRef, useEffect, useCallback } from 'react';\n\nconst ClickSpark = ({\n  sparkColor = '#fff',\n  sparkSize = 10,\n  sparkRadius = 15,\n  sparkCount = 8,\n  duration = 400,\n  easing = 'ease-out',\n  extraScale = 1.0,\n  children\n}) => {\n  const canvasRef = useRef(null);\n  const sparksRef = useRef([]);\n  const startTimeRef = useRef(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const parent = canvas.parentElement;\n    if (!parent) return;\n\n    let resizeTimeout;\n\n    const resizeCanvas = () => {\n      const { width, height } = parent.getBoundingClientRect();\n      if (canvas.width !== width || canvas.height !== height) {\n        canvas.width = width;\n        canvas.height = height;\n      }\n    };\n\n    const handleResize = () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(resizeCanvas, 100);\n    };\n\n    const ro = new ResizeObserver(handleResize);\n    ro.observe(parent);\n\n    resizeCanvas();\n\n    return () => {\n      ro.disconnect();\n      clearTimeout(resizeTimeout);\n    };\n  }, []);\n\n  const easeFunc = useCallback(\n    t => {\n      switch (easing) {\n        case 'linear':\n          return t;\n        case 'ease-in':\n          return t * t;\n        case 'ease-in-out':\n          return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n        default:\n          return t * (2 - t);\n      }\n    },\n    [easing]\n  );\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n\n    let animationId;\n\n    const draw = timestamp => {\n      if (!startTimeRef.current) {\n        startTimeRef.current = timestamp;\n      }\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      sparksRef.current = sparksRef.current.filter(spark => {\n        const elapsed = timestamp - spark.startTime;\n        if (elapsed >= duration) {\n          return false;\n        }\n\n        const progress = elapsed / duration;\n        const eased = easeFunc(progress);\n\n        const distance = eased * sparkRadius * extraScale;\n        const lineLength = sparkSize * (1 - eased);\n\n        const x1 = spark.x + distance * Math.cos(spark.angle);\n        const y1 = spark.y + distance * Math.sin(spark.angle);\n        const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\n        const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\n\n        ctx.strokeStyle = sparkColor;\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n\n        return true;\n      });\n\n      animationId = requestAnimationFrame(draw);\n    };\n\n    animationId = requestAnimationFrame(draw);\n\n    return () => {\n      cancelAnimationFrame(animationId);\n    };\n  }, [sparkColor, sparkSize, sparkRadius, sparkCount, duration, easeFunc, extraScale]);\n\n  const handleClick = e => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    const now = performance.now();\n    const newSparks = Array.from({ length: sparkCount }, (_, i) => ({\n      x,\n      y,\n      angle: (2 * Math.PI * i) / sparkCount,\n      startTime: now\n    }));\n\n    sparksRef.current.push(...newSparks);\n  };\n\n  return (\n    <div className=\"relative w-full h-full\" onClick={handleClick}>\n      <canvas ref={canvasRef} className=\"w-full h-full block absolute top-0 left-0 select-none pointer-events-none\" />\n      {children}\n    </div>\n  );\n};\n\nexport default ClickSpark;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}